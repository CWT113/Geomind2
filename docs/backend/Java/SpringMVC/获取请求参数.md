# 获取请求参数

## 通过ServletAPI获取

原生 Spring 中有一个 HttpServletRequest 对象，它在 SpringMVC 中可以用作请求处理器方法的形参直接使用，而通过它我们就可以直接获取到请求报文的对象。

::: tip

使用 HttpServletRequest 对象获取多个同名参数时，只能获取到第一个值，后面的值获取不到。

例如 `user/list?username=admin&password=123456&hobby=bastetball&hobby=footerball`，hobby 请求参数有多个值，但是只能获取到第一个值。

:::

```java {5,9}
@Controller
@RequestMapping("user")
public class UserController {
  @GetMapping("/list")
  public String list(HttpServletRequest request) {
    String username = request.getParameter("username");
    String password = request.getParameter("password");
    // 当 URL 中有多个同名参数时，HttpServletRequest 只能获取到第一个值
    String hobby = request.getParameter("hobby");
    System.out.println("username: " + username); // admin
    System.out.println("password: " + password); // 123456
    System.out.println("hobby: " + hobby); // basketball
    return "user";
  }
}
```



## 通过形参获取请求参数<失败>

如果把控制器方法的形参和 URL 请求中携带的参数名称设置相同，则 DispatchServlet 会自动将请求中的参数映射到控制器方法的形参参数上。

```java
@Controller
@RequestMapping("user")
public class UserController {
  @GetMapping("list")
  public String list(String username, String password) {
    System.out.println("username = " + username);
    System.out.println("password = " + password);
    return "user";
  }
}
```

>这里一直报错 HTTP状态 500 - 内部服务器错误，搜了有帖子说新版本 SpringMVC 中，必须要加 `@RequestParam` 注解才可以。



## @RequestParam注解











































