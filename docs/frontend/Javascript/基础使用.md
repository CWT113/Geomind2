# 基础使用

## 保留两位小数

> [!NOTE] 方式对比
>
> - `toFixed`：保留两位小数后得到的是一个 **字符串**；
> - `Math.round`：保留两位小数后仍是一个 **数值**，但会 **四舍五入**；
> - `Math.floor`：保留两位小数后仍是一个 **数值**，不会 **四舍五入**，对数字 **直接戒断**；

::: code-group

```javascript [toFixed]
const number = 3.14159365354;
number.toFixed(2); // '3.14'
number.toFixed(4); // '3.1416'
```

```javascript [Math.round]
const number = 3.14159365354;
Math.round(number * 100) / 100; // 3.14
Math.round(number * 10000) / 10000; // 3.1416
```

```javascript [Math.floor]
const number = 3.14159365354;
Math.floor(number * 100) / 100; // 3.14
Math.floor(number * 10000) / 10000; // 3.1415
```

:::



## 页面可见性

`Page Visibility` 页面可见性 API 专门用于 **检测浏览器当前页面是否被隐藏或显示**，非常适合处理用户切换标签页、最小化窗口等场景。

> [!NOTE] 适用场景
>
> - 暂停 / 播放视频或音频；
> - 停止 / 启动动画或轮播图；
> - 暂停轮询服务器请求，在页面恢复可见时再继续；

```javascript
document.addEventListener("visibilitychange", () => {
  if(document.hidden) {
    console.log("用户离开了当前页面（切换标签页或最小化）~~")
  } else {
    console.log("用户回到了当前页面~~")
  }
})
```

